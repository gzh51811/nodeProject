<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>商品列表</title>

    <link href="../css/common.css" type="text/css" rel="stylesheet" />
    <link href="../assets/layui/css/layui.css" type="text/css" rel="stylesheet" />
    <link href="../css/left.css" type="text/css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/user.css">

    <script src="../lib/jquery-1.10.1.min.js"></script>
    <script src="../js/userlist.js"></script>
    <script src="../js/usertoken.js"></script>

</head>

<body>
    <div id="container" class="">
        <!-- 左边 -->
        <div class="bg-black">
            <div class="side-scrol">
                <ul class="nav">
                    <li class="logo">

                        <!-- <img src="../assets/images/u80.png" class="logo_img"> -->
                        <a href="##" class="logo_img"></a>
                        <span class="logo_title">后台管理系统</span>

                    </li>
                    <li class="nav-item nav-itemed">
                        <a class="javascript:;" href="javascript:;">商品管理<span class="nav-more"></span></a>
                        <dl class="nav-child">
                            <dd>
                                <a href="#">商品列表</a>
                            </dd>
                            <dd>
                                <a href="#">商品列表</a>
                            </dd>
                            <dd>
                                <a href="#">添加商品</a>
                            </dd>
                        </dl>
                    </li>
                    <li class="nav-item nav-itemed">
                        <a class="javascript:;" href="javascript:;">用户管理<span class="nav-more"></span></a>
                        <dl class="nav-child">
                            <dd>
                                <a href="###">用户列表</a>
                            </dd>
                            <dd>
                                <a href="###" class="useradd">添加用户</a>
                            </dd>
                        </dl>
                    </li>
                    <li class="nav-item nav-itemed">
                        <a class="javascript:;" href="javascript:;">订单管理<span class="nav-more"></span></a>
                        <dl class="nav-child">
                            <dd>
                                <a href="#">订单列表</a>
                            </dd>
                        </dl>
                    </li>
                </ul>

            </div>
        </div>

        <!-- 右边 -->
        <div class="context">
            <div class="context_header">
                <span class="layui-breadcrumb">
                    <a href="">首页</a>
                    <a href="">用户管理</a>
                    <a><cite>用户列表</cite></a>
                </span>
                <span class="yonghuming">
                  <!-- <a href="" class="welcome"></a>
                  <a href="" class="btnLogout">退出</a> -->
                </span>
            </div>
            <!-- 内容 -->
            <div class="context_container">
                <div class="goods_coantainer">
                    <div class="functionalOperation layui-row">
                        <div class="goods_edit layui-col-xs4">
                            <button class="layui-btn layui-btn-normal btn"><i class="layui-icon"></i>添加</button>
                            <button class="layui-btn layui-btn-normal layui-btn-warm del"><i
                                    class="layui-icon"></i>删除</button>
                        </div>
                    </div>
                    <table class="layui-table" lay-filter="demo">
                        <thead>
                            <tr>
                                <th class="th1" lay-data=> 
                                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                                        <i class="layui-icon layui-icon-ok"></i></div>
                                </th>
                                <th class="th2">注册编号</th>
                                <th class="listGoods">用户名</th>
                                <th>性别</th>
                                <th class='originalPrice'>城市</th>
                                <th class='presentPrice'>签名</th>
                                <th>职业</th>
                                <th>评分</th>
                                <th>注册时间</th>
                                <th class="operation">操作</th>
                            </tr>
                        </thead>
                        <tbody id="tbody">
                            <!-- <tr class="">
                                <td class="layui-table-col-special">
                                    <div class="layui-table-cell laytable-cell-1-0-0 laytable-cell-checkbox">
                                        <input type="checkbox" name="layTableCheckbox" lay-skin="primary" checked="">
                                        <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                                            <i class="layui-icon layui-icon-ok"></i>
                                        </div>
                                    </div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-1">10002</div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-2">李白</div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-3"><em>精华</em></div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-4">1999</div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-5">2999</div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-6">100
                                    </div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-7">上线</div>
                                </td>
                                <td class="">
                                    <div class="layui-table-cell laytable-cell-1-0-8">2018-11-11
                                    </div>
                                </td>
                                <td class="layui-table-col-special">
                                    <div class="layui-table-cell laytable-cell-1-0-11">
                                        <a class="layui-btn layui-btn-xs">编辑</a>
                                        <a class="layui-btn layui-btn-danger layui-btn-xs">删除</a>
                                        <a class="layui-btn layui-btn-normal layui-btn-xs">下架</a>
                                    </div>
                                </td>
                            </tr> -->
                        </tbody>
                    </table>

                    <!-- 分页 -->
                <div id="demo7"></div>

                </div>
            </div>
        </div>
       

<script src="../assets/layui/layui.all.js"></script>
        <script>
            (function () {
                /* 点击出现二级菜单 */
                var key = true;
                $(".nav-item>a").click(function () {
                    if (key) {
                        $(this).find("span").css({
                            "marginTop": "-9px",
                            "borderStyle": "dashed dashed solid",
                            "borderColor": "transparent transparent #fff"
                        });
                        key = false;
                    } else {
                        $(this).find("span").css({
                            "marginTop": "-3px",
                            "borderStyle": "solid dashed dashed",
                            "borderColor": "#fff transparent transparent"
                        });
                        key = true;
                    }


                    var str = $(this).next().stop().slideToggle();

                })
            })();
        </script>
        <script>
           
            layui.use('element', function () {
                var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

                //监听导航点击
                element.on('nav(demo)', function (elem) {
                    //console.log(elem)
                    layer.msg(elem.text());
                });
            });
            layui.use('table', function () {
                var table = layui.table;
                //监听表格复选框选择
                table.on('checkbox(demo)', function (obj) {
                    // console.log(obj)
                });
                //监听工具条
                table.on('tool(demo)', function (obj) {
                    var data = obj.data;
                    if (obj.event === 'detail') {
                        layer.msg('ID：' + data.id + ' 的查看操作');
                    } else if (obj.event === 'del') {
                        layer.confirm('真的删除行么', function (index) {
                            obj.del();
                            layer.close(index);
                        });
                    } else if (obj.event === 'edit') {
                        layer.alert('编辑行：<br>' + JSON.stringify(data))
                    }
                });

                var $ = layui.$, active = {
                    getCheckData: function () { //获取选中数据
                        var checkStatus = table.checkStatus('idTest')
                            , data = checkStatus.data;
                        layer.alert(JSON.stringify(data));
                    }
                    , getCheckLength: function () { //获取选中数目
                        var checkStatus = table.checkStatus('idTest')
                            , data = checkStatus.data;
                        layer.msg('选中了：' + data.length + ' 个');
                    }
                    , isAll: function () { //验证是否全选
                        var checkStatus = table.checkStatus('idTest');
                        layer.msg(checkStatus.isAll ? '全选' : '未全选')
                    }
                };

                $('.demoTable .layui-btn').on('click', function () {
                    var type = $(this).data('type');
                    active[type] ? active[type].call(this) : '';
                });
            });
        </script>
       
        <!-- <script>
            (()=>{
                /**
                 * 细节：当localStore中无user时
                */
                let welcome = document.querySelector('.yonghuming');
                // console.log(welcome)
                let user = localStorage.getItem('user');
                // console.log(user)
        
                if(!user){
                    user = {}
                }else{
                    user = JSON.parse(user);
                    // console.log(user[0].username)
                //     welcome.innerHTML = ` <a href="" class="welcome">${user[0].username}</a>
                //   <a href="" class="btnLogout">退出</a>,`
                    // user.username
                }
        
            // 不靠谱验证方式
            //    if(user._id){
            //         welcome.innerHTML = `
            //         ${user.username}，欢迎你，<button class="btn btn-outline-danger btn-sm btnLogout">退出</button>
        
            //        `
            //    }
        
           // token验证方式
           console.log(user.token)
            if(user.token){
                //判断本地是否有token

                $.post('http://localhost:1811/api/tokenverify',{
                    data:user.token,
                },function(res){
                    console.log(res)
                    if(res== 200){
                        welcome.innerHTML = `<a href="" class="welcome">${user.name[0].username}</a>
                  <a href="" class="btnLogout">退出</a>`
                   }
                }
                // })
                )
                
            }
            //     let xhr = new XMLHttpRequest();
            //     xhr.onload = ()=>{
            //         let res = JSON.parse(xhr.responseText);
            //         console.log(res)
            //        if(res== 200){
            //             welcome.innerHTML = `${user.username},<button class="btn btn-outline-danger btn-sm btnLogout">退出</button>`
            //        }
            //     }
            //     xhr.open('post','http://localhost:1811/api/tokenverify',true);
            //     xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
            //     xhr.send('token='+user.token)
            // }
        
                //    退出
                // welcome.onclick = (e)=>{
                //     if(e.target.classList.contains('btnLogout')){
                //         localStorage.removeItem('user');
                //         location.reload();
                //         location.href="login.html";
                //     }
                // }
            })()
            </script> -->


</body>

</html>